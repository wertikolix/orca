# Orca 0.6.0

Release focus: full migration to `org.jetbrains:markdown` with parser architecture cleanup.

## Highlights

- **Parser backend switched to `intellij-markdown`** (`org.jetbrains:markdown`, `GFMFlavourDescriptor`).
- **Built-in parser is now commonMain-first**: `IntellijMarkdownOrcaParser` is available across Android, iOS, Desktop (JVM), and wasmJs.
- **Parser internals refactored into dedicated modules** (orchestration, AST mapping, front matter, footnotes, shared core) to avoid a God-object implementation.
- **Feature parity preserved** for existing Orca AST contract:
  - headings, paragraphs, ordered/unordered lists, task list state
  - quotes, fenced/indented code blocks, thematic breaks
  - GFM tables, inline formatting, autolinks, HTML block/inline nodes
  - front matter (YAML/TOML), footnote references and inline footnotes

## Breaking Changes

- `CommonmarkOrcaParser` was removed.
- Use `IntellijMarkdownOrcaParser` instead.

## Migration

```diff
- import ru.wertik.orca.core.CommonmarkOrcaParser
+ import ru.wertik.orca.core.IntellijMarkdownOrcaParser

- val parser: OrcaParser = CommonmarkOrcaParser()
+ val parser: OrcaParser = IntellijMarkdownOrcaParser()
```

## Platform Support

| Platform | orca-core | orca-compose | Parser |
|---|---|---|---|
| Android | commonMain + jvmMain | full | `IntellijMarkdownOrcaParser` |
| Desktop (JVM) | commonMain + jvmMain | full | `IntellijMarkdownOrcaParser` |
| iOS | commonMain | full | `IntellijMarkdownOrcaParser` |
| wasmJs (Web) | commonMain | full | `IntellijMarkdownOrcaParser` |

## Maven Coordinates

- `ru.wertik:orca-core:0.6.0`
- `ru.wertik:orca-compose:0.6.0`

## Verification

```bash
./gradlew --no-daemon --build-cache :orca-core:jvmTest :orca-compose:testDebugUnitTest :sample-app:assembleDebug
```
