# Orca 0.2.0

Release focus: stability, bug fixes, renderer decomposition, and release infra hardening.

## Highlights

- Fixed parser stability and cache behavior:
  - `CommonmarkOrcaParser` now overrides `cacheKey()` and includes parser identity + depth config.
  - parser depth guard is now configurable: `maxTreeDepth` (default `64`).
  - added `onDepthLimitExceeded` callback to make depth truncation observable.
- Fixed compose runtime stability:
  - markdown parse errors no longer crash UI; renderer keeps the last successful document.
  - `LazyColumn` now uses deterministic content keys instead of raw index keys.
- Reduced monolith surface:
  - `Orca.kt` now focuses on public API and state orchestration.
  - block/table/image rendering moved to dedicated files:
    - `OrcaBlockNode.kt`
    - `OrcaTableNode.kt`
    - `OrcaImageNode.kt`
- Added tests for new regression points:
  - parser depth callback behavior and cache key behavior.
  - render key generation behavior for duplicate blocks.
- Hardened release workflow:
  - release version is resolved from tag (`-PorcaVersion=<tag>`), avoiding tag/version mismatch.
  - optional Maven Central publish steps added (when credentials + GPG key are configured).

## Maven Coordinates

- `ru.wertik:orca-core:0.2.0`
- `ru.wertik:orca-compose:0.2.0`

## Verification

```bash
./gradlew --no-daemon --build-cache :orca-core:test :orca-compose-android:testDebugUnitTest :sample-app:assembleDebug :sample-app:assembleRelease :sample-app:bundleRelease
```
